<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="/iframe/css/main.css" />

		<title></title>
	</head>
	<body>
		<div class="container">
			<div class="header">
				<svg
					t="1749884370067"
					class="icon"
					viewBox="0 0 1024 1024"
					version="1.1"
					xmlns="http://www.w3.org/2000/svg"
					p-id="3551"
					width="40"
					height="40"
				>
					<path
						d="M853.333333 138.666667H170.666667c-17.066667 0-32 14.933333-32 32v128c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V202.666667h277.333333v618.666666H384c-17.066667 0-32 14.933333-32 32s14.933333 32 32 32h256c17.066667 0 32-14.933333 32-32s-14.933333-32-32-32h-96v-618.666666h277.333333V298.666667c0 17.066667 14.933333 32 32 32s32-14.933333 32-32V170.666667c0-17.066667-14.933333-32-32-32z"
						fill="#5588FF"
						p-id="3552"
					></path>
				</svg>
				<span class="hrader-title">一键丝印</span>
			</div>
			<div class="body">
				<div class="left">
					焊盘网络名<span class="data-module" id="part-number">none</span><br />
					唯一标识符<span class="data-module" id="unique-id">none</span><br />
					X轴坐标<span class="data-module" id="x-coordinate">none</span><br />
					Y轴坐标<span class="data-module" id="y-coordinate">none</span><br />
				</div>
				<div class="right">
					丝印高度
					<input type="range" min="35" max="100" value="40" class="input-slider" id="stencil-size-slider" />
					<span id="stencil-size">加载中..</span><br />
					丝印方向
					<div class="direction">
						<button class="direction-btn" id="direction-btn">载入中..</button>
						<div class="direction-content" id="dropdown-content">
							<a href="#" class="direction-item" data-value="0°">0°</a>
							<a href="#" class="direction-item" data-value="90°">90°</a>
							<a href="#" class="direction-item" data-value="180°">180°</a>
							<a href="#" class="direction-item" data-value="270°">270°</a>
						</div>
					</div>
					放置位置
					<div class="place">
						<button class="place-btn" id="place-btn">载入中..</button>
						<div class="place-content" id="place-content">
							<a href="#" class="place-item" data-value="右">右</a>
							<a href="#" class="place-item" data-value="左">左</a>
							<a href="#" class="place-item" data-value="上">上</a>
							<a href="#" class="place-item" data-value="下">下</a>
						</div>
					</div>
				</div>
			</div>
			<div class="switch-container">
				<label>ON/OFF</label>
				<label class="switch">
					<input type="checkbox" />
					<span class="slider round"></span>
				</label>
				<button class="generate-button">生成</button>
			</div>
			<div class="image_show"></div>
			<div class="bottom">
				<svg
					t="1750056581655"
					class="icon"
					viewBox="0 0 1024 1024"
					version="1.1"
					xmlns="http://www.w3.org/2000/svg"
					p-id="1353"
					width="16"
					height="16"
				>
					<path
						d="M226.432 129.984c-14.016 54.72-0.192 92.8 2.944 100.608l9.92 24.832-17.984 19.776c-31.552 34.624-50.624 77.952-50.624 133.184 0 106.24 31.872 163.584 71.936 197.12 42.112 35.392 100.48 50.752 165.056 57.984l97.088 10.88-73.984 63.872c-10.368 8.96-25.856 32-25.856 79.168V832h0.384v85.312h-0.064l0.192 31.232v0.064l0.064 8c0.128 11.136 0.128 19.008 0.128 24.704V1024H320.32v-42.688c0-5.376 0-12.8-0.128-23.936v-8.32a32832.64 32832.64 0 0 1-0.256-31.744h-23.744c-51.84 0-100.864-23.552-133.248-64l-23.488-29.44a128 128 0 0 0-42.752-34.496l-47.296-23.68 38.208-76.288 47.296 23.68c27.584 13.76 51.84 33.408 71.168 57.536l23.488 29.312c16.192 20.288 40.704 32 66.56 32h23.488v-14.528c0-30.208 4.608-56.96 12.864-79.744-50.56-11.2-101.76-30.72-144.704-66.752-63.936-53.568-102.4-137.6-102.4-262.528 0-67.648 21.12-124.8 56.704-171.328-8.512-34.176-14.848-93.76 14.08-166.144L163.584 52.48 182.4 46.272h0.064l0.128-0.064 0.128-0.064 0.384-0.128 0.768-0.192a56.704 56.704 0 0 1 6.4-1.536c3.456-0.64 7.808-1.216 12.992-1.472a160.64 160.64 0 0 1 40.832 3.712c30.592 6.4 71.808 22.016 124.928 55.936a605.632 605.632 0 0 1 285.824 0c53.12-33.92 94.336-49.536 124.928-55.936a160.64 160.64 0 0 1 40.832-3.712 97.472 97.472 0 0 1 19.392 3.008l0.768 0.192 0.32 0.128h0.192l0.128 0.064 18.944 6.272 7.424 18.432c28.928 72.384 22.592 131.968 14.08 166.144 35.584 46.528 56.768 103.68 56.768 171.328 0 124.992-38.528 208.96-102.4 262.528-42.944 35.968-94.208 55.552-144.768 66.752 8.256 22.848 12.928 49.536 12.928 79.744 0 53.76-0.384 100.48-0.64 131.712v8.32l-0.128 23.872V1024H618.368v-42.688c0-5.76 0-13.568 0.128-24.704v-8.064c0.256-31.168 0.64-77.696 0.64-131.2 0-47.104-15.552-70.208-25.92-79.104l-73.984-63.808 97.088-10.88c64.64-7.296 122.88-22.656 165.12-58.048 40-33.536 71.872-90.88 71.872-197.12 0-55.232-19.072-98.56-50.56-133.184l-18.048-19.776 9.92-24.832c3.136-7.808 16.96-45.888 2.944-100.608l-0.256 0.064c-20.352 4.288-56.64 16.96-110.848 53.76l-16.384 11.2-19.136-5.376a517.504 517.504 0 0 0-277.888 0l-19.136 5.376-16.448-11.2c-54.144-36.8-90.432-49.472-110.72-53.76h-0.32z"
						p-id="1354"
						fill="#5588FF"
					></path>
				</svg>
				开发者：<a href="https://github.com/jlceda" target="_blank">Macida</a>
			</div>
		</div>
		<div class="menu-img">
			<svg
				t="1750384846949"
				class="icon"
				viewBox="0 0 1024 1024"
				version="1.1"
				xmlns="http://www.w3.org/2000/svg"
				p-id="1061"
				width="30"
				height="30"
			>
				<path
					d="M341.312 170.688a42.688 42.688 0 1 0 0 85.312 42.688 42.688 0 0 0 0-85.312z m-120.704 0a128 128 0 0 1 241.408 0h476.672V256H462.016a128 128 0 0 1-241.408 0H85.312V170.688h135.296zM561.92 469.312a128 128 0 0 1 241.472 0h135.296v85.376h-135.296a128 128 0 0 1-241.472 0H85.312V469.312H561.92z m120.768 0a42.688 42.688 0 1 0 0 85.376 42.688 42.688 0 0 0 0-85.376zM341.312 768a42.688 42.688 0 1 0 0 85.312 42.688 42.688 0 0 0 0-85.312z m-120.704 0a128 128 0 0 1 241.408 0h476.672v85.312H462.016a128 128 0 0 1-241.408 0H85.312V768h135.296z"
					p-id="1062"
					fill="#0b7dda"
				></path>
			</svg>
		</div>
		<div class="menu-container">
			<div class="menu-item">
				<span>一键生成开关</span>
				<label class="switch">
					<input type="checkbox" id="one-click-switch" />
					<span class="slider round"></span>
				</label>
			</div>
			<div class="menu-item">
				<span>X轴默认偏移量</span>
				<input type="number" id="x-offset" value="30" />
			</div>
			<div class="menu-item">
				<span>Y轴默认偏移量</span>
				<input type="number" id="y-offset" value="80" />
			</div>
			<div class="menu-item">
				<span>默认丝印高度</span>
				<input type="number" id="stencil-height" value="40" />
			</div>
			<div class="menu-item">
				<span>丝印生成层</span>
				<select id="stencil-layer">
					<option value="顶层丝印层">顶层丝印层</option>
					<option value="底层丝印层">底层丝印层</option>
				</select>
			</div>
			<div class="menu-item">
				<span>按器件批量生成功能</span>
				<label class="switch">
					<input type="checkbox" id="batch-switch" />
					<span class="slider round"></span>
				</label>
			</div>
		</div>
	</body>
	<script src="/iframe/js/main.js" defer="search_input"></script>
	<script>
		// 版本检查
		function compareVersions(version, version_required) {
			const v1Parts = version.split('.').map(Number);
			const v2Parts = version_required.split('.').map(Number);
			const maxLength = Math.max(v1Parts.length, v2Parts.length);
			for (let i = 0; i < maxLength; i++) {
				// 如果其中一个版本号的部分不存在，则视为0
				const v1 = v1Parts[i] || 0;
				const v2 = v2Parts[i] || 0;
				// 比较两个版本号的部分
				if (v1 > v2) {
					return false; // version > version_required
				} else if (v1 < v2) {
					return true; // version < version_required
				}
			}
		}
		const version = eda.sys_Environment.getEditorCurrentVersion();
		const requiredVersion = `2.2.40`;
		document.addEventListener('DOMContentLoaded', () => {
			if (compareVersions(version, requiredVersion)) {
				eda.sys_Message.showToastMessage(
					`您的版本为${eda.sys_Environment.getEditorCurrentVersion()}，至少需要${requiredVersion}才能正常运行该脚本，请及时更新EDA版本`,
					'warn',
					3,
				);
			}
		});
	</script>
</html>
